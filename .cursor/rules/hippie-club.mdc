---
description: Hippie Club Website Development Guidelines
globs: ["**/*.tsx", "**/*.ts", "**/*.css"]
---

# Hippie Club Website - Development Guidelines

## Project Context

This is the Hippie Club (Hip-E Club) nightclub website - a promotional and booking platform for a Perth, WA nightclub with a retro/70s disco aesthetic.

## Documentation

- **PRD:** `docs/PRD.md` - Full product requirements and design specifications
- **Architecture:** `docs/ARCHITECTURE.md` - Database schema, Edge Functions, service layer details
- **Designs:** `docs/hippie-designs/` - JPEG mockups for each page
- **Assets:** `docs/hippie-assets/` - Fonts, logos, and brand assets

## Tech Stack

- React 18+ with TypeScript
- Vite for build tooling
- Tailwind CSS for styling
- shadcn/ui for base components
- React Router v6 for navigation
- TanStack Query for data fetching
- Supabase for backend (PostgreSQL + Edge Functions)
- Square Web Payments SDK for payment processing

## Brand Colors

Use these Tailwind color tokens defined in `tailwind.config.ts`:

```
hippie.charcoal     - #1a1a1a (dark backgrounds)
hippie.teal         - #1b6b5a (green backgrounds)
hippie.coral        - #e85a4f (red backgrounds)
hippie.gold         - #f5b642 (accents, buttons)
hippie.greenDark    - #2d5a4a (header pills, page titles)
hippie.white        - #ffffff (text on dark)
hippie.cream        - #f5f0e6 (light text alternative)
```

## Typography

- **Headings/Display:** `font-display` (Blur Web Bold)
- **Body:** `font-body` (Acumin Variable)

## Architecture

**Data Layer:**
- Supabase: PostgreSQL database + Edge Functions
- Services: `/src/services/` - API client functions (karaoke, occasion, ticketBooking)
- State: TanStack Query for server state caching

**See `docs/ARCHITECTURE.md` for:**
- Complete database schema and relationships
- Edge Function specifications and I/O contracts
- Service layer patterns and conventions
- Payment flow details and security

## File Structure Conventions

```
src/
├── components/
│   ├── layout/      # Header, Footer, PageLayout, PageTitle
│   └── ui/          # shadcn/ui components
├── pages/           # Route page components
├── services/        # API client functions (Supabase Edge Functions)
├── hooks/           # Custom React hooks
├── lib/             # Utilities and helpers (config, supabaseClient, utils)
└── assets/          # Static assets (images, icons)
```

## Routes

| Path | Component | Purpose |
|------|-----------|---------|
| `/` | Home | Landing page with navigation |
| `/karaoke` | Karaoke | Karaoke booth booking flow |
| `/priority` | Priority | 25+ priority entry booking |
| `/venue-hire` | VenueHire | Venue hire information |
| `/photos` | Photos | Event photo gallery dates |
| `/guest-list` | GuestList | Birthday/occasion packages |
| `/group/:token` | GroupTicketPage | Group ticket purchase |
| `/occasion/buy/:token` | OccasionBuyPage | Guest ticket purchase |
| `/occasion/:token` | OccasionOrganiserPage | Organizer guest list management |

## Component Guidelines

1. **Layout Components:** All pages should use `PageLayout` wrapper which provides:
   - Header with logo and social links
   - Footer with contact info
   - Background pattern variant

2. **Page Titles:** Use `PageTitle` component for the rounded pill page headers

3. **Buttons:** Use the pre-defined button classes:
   - `hippie-btn-primary` - Gold filled button
   - `hippie-btn-secondary` - Outlined button
   - `hippie-btn-pill` - Rounded pill style

## Background Variants

Pages use one of three background patterns:
- `bg-pattern-dark` - Charcoal with swirls (Photos, Karaoke)
- `bg-pattern-teal` - Green with swirls (Guest List, 25+ Priority)
- `bg-pattern-coral` - Red with swirls (Venue Hire)

## Coding Conventions

1. Use TypeScript for all components
2. Prefer functional components with hooks
3. Use Tailwind classes over custom CSS when possible
4. Follow mobile-first responsive design
5. Keep components small and focused
6. Extract reusable logic into custom hooks

## Data Models

**Venue Type:** `'manor' | 'hippie'` - Always use `'hippie'` for this site

**Karaoke Booking Flow:**
1. Fetch availability → 2. Create hold (5min) → 3. Process payment → 4. Booking confirmed

**Key Functions:** `fetchKaraokeAvailability()`, `createKaraokeHold()`, `payAndBookKaraoke()`, `releaseKaraokeHold()`

## Environment & Configuration

**Frontend:** `src/lib/config.ts` - Square payment configuration  
**Backend:** Supabase project settings - Database and API keys

**See `docs/ARCHITECTURE.md` for complete environment variable list and deployment setup.**

## Common Patterns

**Page Structure:**
```tsx
<PageLayout background="teal">
  <PageTitle>Title</PageTitle>
  {/* content */}
</PageLayout>
```

**Modal Booking Forms:**
- shadcn Dialog + react-hook-form + zod validation
- Square payment widget for card tokenization
- Toast notifications for feedback

**Button Styles:**
- Primary: `bg-hippie-gold` (gold filled)
- Secondary: `border-hippie-gold` (outlined)
- Pill: `rounded-pill`

**See `docs/ARCHITECTURE.md` for complete component patterns, state management, and error handling.**

## Accessibility

- Use semantic HTML elements
- Include alt text for all images
- Ensure proper heading hierarchy (h1 > h2 > h3)
- Support keyboard navigation
- Maintain sufficient color contrast
